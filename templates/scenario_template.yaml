Schema: !include "../template/schema.yaml"

Variables:
  - &portfolioBuildingOffset 60

GeneralProperties:
  RunId: 1
  Simulation:
    StartTime: 2029-12-31_23:58:00
    StopTime: 2030-12-31_23:58:00
    RandomSeed: 1
  Output:
    Interval: 100
    Process: 0

Agents:
  - Type: EnergyExchange
    Id: 1
    Attributes:
      DistributionMethod: SAME_SHARES
      GateClosureInfoOffsetInSeconds: 11

  - Type: CarbonMarket
    Id: 3
    Attributes:
      OperationMode: FIXED
      Co2Prices: 26.8

  - Type: FuelsMarket
    Id: 4
    Attributes:
      FuelPrices:
        - FuelType: HARD_COAL
          Price: 13.55
          ConversionFactor: 1.0
        - FuelType: LIGNITE
          Price: 4.0
          ConversionFactor: 1.0
        - FuelType: NATURAL_GAS
          Price: 21.21
          ConversionFactor: 1.0
        - FuelType: NUCLEAR
          Price: 3.37
          ConversionFactor: 1.0

  - Type: DemandTrader
    Id: 100
    Attributes:
      Loads:
        - ValueOfLostLoad: 3000.0
          DemandSeries: "./data/load.csv"

  - Type: PriceForecaster
    Id: 6
    Attributes:
      DistributionMethod: SAME_SHARES
      ForecastPeriodInHours: 168
      ForecastRequestOffsetInSeconds: 27

  - Type: StorageTrader
    Id: 7
    Attributes:
      ForecastRequestOffsetInSeconds: 22
      Device:
        EnergyToPowerRatio: 8.0
        SelfDischargeRatePerHour: 0.0
        ChargingEfficiency: 0.90
        DischargingEfficiency: 0.90
        InitialEnergyLevelInMWH: 0.0
        InstalledPowerInMW: 61783.0
      Strategy:
        #SINGLE_AGENT_MAX_PROFIT, SINGLE_AGENT_MIN_SYSTEM_COST, MULTI_AGENT_SIMPLE, DISPATCH_FILE
        StrategistType: MULTI_AGENT_SIMPLE
        ForecastPeriodInHours: 168
        ScheduleDurationInHours: 24
        MultiAgent:
          AssessmentFunctionPrefactors: [0.0, 1.0, 2.0]
        #SingleAgent:
        #PurchaseLeviesAndTaxesInEURperMWH: 0.0
        #ModelledChargingSteps: 2000
      Refinancing:
        InvestmentExpensensesInEURperMW: 880000.0
        AnnuityFactor: 0.0802
        FixedCostsInEURperYearMW: 6600.0

  - Type: RenewableTrader
    Id: 111
    Attributes:
      ShareOfRevenues: 0.0
      ForecastError:
        Mean: 0.
        Variance: 0.

  - Type: RenewableTrader
    Id: 112
    Attributes:
      ShareOfRevenues: 0.0
      ForecastError:
        Mean: 0.
        Variance: 0.

  - Type: RenewableTrader
    Id: 113
    Attributes:
      ShareOfRevenues: 0.0
      ForecastError:
        Mean: 0.
        Variance: 0.

  - Type: NoSupportTrader
    Id: 12
    Attributes:
      ShareOfRevenues: 0.0
      ForecastError:
        Mean: 0.
        Variance: 0.

  - Type: SystemOperatorTrader
    Id: 13
    Attributes:
      ForecastError:
        Mean: 0.
        Variance: 0.

  - Type: SupportPolicy
    Id: 90
    Attributes:
      SetSupportData:
        - Set: PVRooftop
          MPFIX:
            Premium: 89.0
        - Set: WindOn
          MPFIX:
            Premium: 78.0
        - Set: WindOff
          MPFIX:
            Premium: 72.0

  - Type: ConventionalPlantOperator
    Id: 501
    Attributes:
      Refinancing:
        InvestmentExpensensesInEURperMW: 1600000.0
        AnnuityFactor: 0.0583
        FixedCostsInEURperYearMW: 30000.0

  - Type: PredefinedPlantBuilder
    Id: 2001
    Attributes:
      PortfolioBuildingOffsetInSeconds: *portfolioBuildingOffset
      Prototype:
        FuelType: LIGNITE
        SpecificCo2EmissionsInTperMWH: 0.401
        PlannedAvailability: 1.0
        UnplannedAvailabilityFactor: 1.0
        OpexVarInEURperMWH: 2.0
        CyclingCostInEURperMW: 0.0
      Efficiency:
        Minimal: .30
        Maximal: .45
      BlockSizeInMW: 200.0
      InstalledPowerInMW: 3600.0
      EfficiencyRoundingPrecision: 3

  - Type: ConventionalTrader
    Id: 1001
    Attributes:
      minMarkup: 0.0
      maxMarkup: 0.0

  #  - Type: ConventionalPlantOperator
  #    Id: 502

  #  - Type: PredefinedPlantBuilder
  #    Id: 2002
  #    Attributes:
  #      Prototype:
  #        FuelType: HARD_COAL
  #        SpecificCo2EmissionsInTperMWH: 0.342
  #        PlannedAvailability: 1.0
  #        UnplannedAvailabilityFactor: 1.0
  #        OpexVarInEURperMWH: 2.0
  #        CyclingCostInEURperMW: 0.0
  #      Efficiency:
  #        Minimal: .35
  #        Maximal: .46
  #      BlockSizeInMW: 200.0
  #      InstalledPowerInMW: 0.0

  #  - Type: ConventionalTrader
  #    Id: 1002
  #    Attributes:
  #      minMarkup: 0.0
  #      maxMarkup: 0.0

  - Type: ConventionalPlantOperator
    Id: 503
    Attributes:
      Refinancing:
        InvestmentExpensensesInEURperMW: 780000.0
        AnnuityFactor: 0.0651
        FixedCostsInEURperYearMW: 22000.0

  - Type: PredefinedPlantBuilder
    Id: 2003
    Attributes:
      PortfolioBuildingOffsetInSeconds: *portfolioBuildingOffset
      Prototype:
        FuelType: NATURAL_GAS
        SpecificCo2EmissionsInTperMWH: 0.202
        PlannedAvailability: 1.0
        UnplannedAvailabilityFactor: 1.0
        OpexVarInEURperMWH: 1.5
        CyclingCostInEURperMW: 0.0
      Efficiency:
        Minimal: 0.5
        Maximal: 0.61
      BlockSizeInMW: 200.0
      InstalledPowerInMW: 32600.0
      EfficiencyRoundingPrecision: 3

  - Type: ConventionalTrader
    Id: 1003
    Attributes:
      minMarkup: 0.0
      maxMarkup: 0.0

  - Type: ConventionalPlantOperator
    Id: 504
    Attributes:
      Refinancing:
        InvestmentExpensensesInEURperMW: 400000.0
        AnnuityFactor: 0.0651
        FixedCostsInEURperYearMW: 15000.0

  - Type: PredefinedPlantBuilder
    Id: 2004
    Attributes:
      PortfolioBuildingOffsetInSeconds: *portfolioBuildingOffset
      Prototype:
        FuelType: NATURAL_GAS
        SpecificCo2EmissionsInTperMWH: 0.202
        PlannedAvailability: 1.0
        UnplannedAvailabilityFactor: 1.0
        OpexVarInEURperMWH: 1.5
        CyclingCostInEURperMW: 0.0
      Efficiency:
        Minimal: 0.3
        Maximal: 0.39
      BlockSizeInMW: 200.0
      InstalledPowerInMW: 12200.0
      EfficiencyRoundingPrecision: 3

  - Type: ConventionalTrader
    Id: 1004
    Attributes:
      minMarkup: 0.0
      maxMarkup: 0.0

  # Conventional backup plants (real units)
  - Type: ConventionalPlantOperator
    Id: 509
    Attributes:
      Refinancing:
        InvestmentExpensensesInEURperMW: 400000.0
        AnnuityFactor: 0.0651
        FixedCostsInEURperYearMW: 15000.0

  - Type: PredefinedPlantBuilder
    Id: 2009
    Attributes:
      PortfolioBuildingOffsetInSeconds: *portfolioBuildingOffset
      Prototype:
        FuelType: NATURAL_GAS
        SpecificCo2EmissionsInTperMWH: 0.202
        PlannedAvailability: 1.0
        UnplannedAvailabilityFactor: 1.0
        OpexVarInEURperMWH: 1.5
        CyclingCostInEURperMW: 0.0
      Efficiency:
        Minimal: 0.3
        Maximal: 0.3
      BlockSizeInMW: 200.0
      InstalledPowerInMW: 30000.0
      EfficiencyRoundingPrecision: 3

  - Type: ConventionalTrader
    Id: 1009
    Attributes:
      minMarkup: 1
      maxMarkup: 1

  # Conventional backup plants (virtual units)
  - Type: ConventionalPlantOperator
    Id: 510
    Attributes:
      Refinancing:
        InvestmentExpensensesInEURperMW: 400000.0
        AnnuityFactor: 0.0651
        FixedCostsInEURperYearMW: 15000.0

  - Type: PredefinedPlantBuilder
    Id: 2010
    Attributes:
      PortfolioBuildingOffsetInSeconds: *portfolioBuildingOffset
      Prototype:
        FuelType: NATURAL_GAS
        SpecificCo2EmissionsInTperMWH: 0.202
        PlannedAvailability: 1.0
        UnplannedAvailabilityFactor: 1.0
        OpexVarInEURperMWH: 1.5
        CyclingCostInEURperMW: 0.0
      Efficiency:
        Minimal: 0.3
        Maximal: 0.3
      BlockSizeInMW: 200.0
      InstalledPowerInMW: 30000.0
      EfficiencyRoundingPrecision: 3

  - Type: ConventionalTrader
    Id: 1010
    Attributes:
      minMarkup: 2
      maxMarkup: 2

  - Type: VariableRenewableOperator
    Id: 10
    Attributes:
      EnergyCarrier: PV
      Set: PVRooftop
      SupportInstrument: MPFIX
      InstalledPowerInMW: 154920.0
      OpexVarInEURperMWH: 0.0
      YieldProfile: "./data/pv.csv"
      Refinancing:
        InvestmentExpensensesInEURperMW: 1150000.0
        AnnuityFactor: 0.0710
        FixedCostsInEURperYearMW: 34000.0

  - Type: VariableRenewableOperator
    Id: 20
    Attributes:
      EnergyCarrier: WindOn
      Set: WindOn
      SupportInstrument: MPFIX
      InstalledPowerInMW: 123936.0
      OpexVarInEURperMWH: 18.6
      YieldProfile: "./data/windon.csv"
      Refinancing:
        InvestmentExpensensesInEURperMW: 1400000.0
        AnnuityFactor: 0.0802
        FixedCostsInEURperYearMW: 50000.0

  - Type: VariableRenewableOperator
    Id: 50
    Attributes:
      EnergyCarrier: WindOff
      Set: WindOff
      SupportInstrument: MPFIX
      InstalledPowerInMW: 30984.0
      OpexVarInEURperMWH: 30.4
      YieldProfile: "./data/windoff.csv"
      Refinancing:
        InvestmentExpensensesInEURperMW: 2580000.0
        AnnuityFactor: 0.0802
        FixedCostsInEURperYearMW: 120000.0

Contracts: !include ["../template/contracts/*.yaml", "Contracts"]
